# Example Papaya configuration.
# Copy to ~/.config/papaya/config.yaml and adjust paths/categories as needed.

root_dir: ~/.local/lib/papaya

module_paths:
  - ~/.config/papaya/modules

maildirs:
  - name: personal
    path: /var/vmail/example.com/personal
    rules: |
      known_category = modules.match_from.classify(message, None, account)
      if known_category:
          move_to(known_category)
      else:
          features = modules.extract_features.classify(message)
          prediction = modules.naive_bayes.classify(message, features, account)

          if prediction.category and prediction.confidence >= 0.55:
              move_to(prediction.category.value, confidence=prediction.confidence)
          else:
              skip()
    train_rules: |
      features = modules.extract_features.classify(message)
      modules.naive_bayes.train(message, features, category, account)
      modules.tfidf_sgd.train(message, features, category, account)
      modules.match_from.train(message, features, category, account)

categories:
  Spam: {}
  Newsletters: {}
  Important: {}

logging:
  level: info
  debug_file: false
